{
  "info": {
    "name": "MERN Restaurant - Reviews API",
    "description": "Review management endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:3000/api"},
    {"key": "userToken", "value": ""},
    {"key": "adminToken", "value": ""},
    {"key": "superAdminToken", "value": ""},
    {"key": "restaurantId", "value": ""}
  ],
  "item": [
    {"name": "Public - Get Reviews by Restaurant",
      "request": {"method": "GET", "url": "{{baseUrl}}/reviews/restaurant/:restaurantId"}},
    {"name": "Public - Get Review Summary",
      "request": {"method": "GET", "url": "{{baseUrl}}/reviews/restaurant/:restaurantId/summary"}},
    {"name": "User - Get My Reviews",
      "request": {"method": "GET", "url": "{{baseUrl}}/reviews/my", "header": [{"key": "Authorization", "value": "Bearer {{userToken}}"}]}},
    {"name": "User - Create Review",
      "request": {
        "method": "POST", "url": "{{baseUrl}}/reviews/restaurant/:restaurantId",
        "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{userToken}}"}],
        "body": {"mode": "raw", "raw": "{\"rating\": 5, \"comment\": \"Great food and service!\"}"}}},
    {"name": "Scoped - Get Review by ID",
      "request": {"method": "GET", "url": "{{baseUrl}}/reviews/:id", "header": [{"key": "Authorization", "value": "Bearer {{userToken}}"}]}},
    {"name": "Owner - Update Review",
      "request": {
        "method": "PATCH", "url": "{{baseUrl}}/reviews/:id",
        "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{userToken}}"}],
        "body": {"mode": "raw", "raw": "{\"rating\": 4, \"comment\": \"Updated comment\"}"}}},
    {"name": "Owner - Delete Review",
      "request": {"method": "DELETE", "url": "{{baseUrl}}/reviews/:id", "header": [{"key": "Authorization", "value": "Bearer {{userToken}}"}]}},
    {"name": "Admin - Moderate Review",
      "request": {
        "method": "PATCH", "url": "{{baseUrl}}/reviews/:id/moderate",
        "header": [{"key": "Content-Type", "value": "application/json"}, {"key": "Authorization", "value": "Bearer {{adminToken}}"}],
        "body": {"mode": "raw", "raw": "{\"isHidden\": false, \"isFlagged\": false}"}}}
  ]
}
